<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vuex"></script>
</head>
<body>

    <div id="app">

    </div>





<script>


let All = {
    template:`
        <div>

            <h1><a href="/search/">点击此处返回搜索页面</a></h1>
            <h2><button style="font-size:20px;" v-on:click="show_info">点击此处显示其他信息：如sp,bls，ma20等等</button></h2>
        <table border="1">
        <tr>
            <th>代号</th>
            <th>名字</th>
            <th>日期</th>

            <th>次日开盘/当日收盘</th>
            <th>次日最高/当日收盘</th>
            <th>次日最低/当日收盘</th>
            <th>次日收盘/当日收盘</th>

            <th>第2日开盘/当日收盘</th>
            <th>第2日最高/当日收盘</th>
            <th>第2日最低/当日收盘</th>
            <th>第2日收盘/当日收盘</th>

            <th>第3日开盘/当日收盘</th>
            <th>第3日最高/当日收盘</th>
            <th>第3日最低/当日收盘</th>
            <th>第3日收盘/当日收盘</th>

            <th>第4日开盘/当日收盘</th>
            <th>第4日最高/当日收盘</th>
            <th>第4日最低/当日收盘</th>
            <th>第4日收盘/当日收盘</th>

            <th>第5日开盘/当日收盘</th>
            <th>第5日最高/当日收盘</th>
            <th>第5日最低/当日收盘</th>
            <th>第5日收盘/当日收盘</th>


            <div v-if="show">
                <th>当日开盘</th>
                <th>当日最高</th>
                <th>当日最低</th>
                <th>当日收盘</th>
                <th>当日MA20</th>
                <th>当日md</th>
                <th>当日布林上线</th>
                <th>当日布林中线</th>
                <th>当日布林下线</th>
                <th>当日MA20_1_1</th>
                <th>当日md_1_1</th>
                <th>当日布林上线_1_1</th>
                <th>当日布林中线_1_1</th>
                <th>当日布林下线_1_1</th>
            </div>

        </tr>
            {% for i in result %}
                {% for j in i %}
        <tr>


                    <td>{{ j.0.code }}</td>
                    <td>{{ j.0.name }}</td>
                    <td>{{ j.0.date }}</td>

                    <td>{{ j.1.0.0 }}</td>
                    <td>{{ j.1.0.1 }}</td>
                    <td>{{ j.1.0.2 }}</td>
                    {% if  j.1.0.3 >1 %}
                        <td style="background-color: red">{{ j.1.0.3 }}</td>
                    {% else %}
                        <td style="background-color: green">{{ j.1.0.3 }}</td>
                    {% endif %}


                    <td>{{ j.1.1.0 }}</td>
                    <td>{{ j.1.1.1 }}</td>
                    <td>{{ j.1.1.2 }}</td>

                    {% if  j.1.1.3 >1 %}
                        <td style="background-color: red">{{ j.1.1.3 }}</td>
                    {% else %}
                        <td style="background-color: green">{{ j.1.1.3 }}</td>
                    {% endif %}

                    <td>{{ j.1.2.0 }}</td>
                    <td>{{ j.1.2.1 }}</td>
                    <td>{{ j.1.2.2 }}</td>

                    {% if  j.1.2.3 >1 %}
                        <td style="background-color: red">{{ j.1.2.3 }}</td>
                    {% else %}
                        <td style="background-color: green">{{ j.1.2.3 }}</td>
                    {% endif %}


                    <td>{{ j.1.3.0 }}</td>
                    <td>{{ j.1.3.1 }}</td>
                    <td>{{ j.1.3.2 }}</td>

                    {% if  j.1.3.3 >1 %}
                        <td style="background-color: red">{{ j.1.3.3 }}</td>
                    {% else %}
                        <td style="background-color: green">{{ j.1.3.3 }}</td>
                    {% endif %}


                    <td>{{ j.1.4.0 }}</td>
                    <td>{{ j.1.4.1 }}</td>
                    <td>{{ j.1.4.2 }}</td>

                    {% if  j.1.4.3 >1 %}
                        <td style="background-color: red">{{ j.1.4.3 }}</td>
                    {% else %}
                        <td style="background-color: green">{{ j.1.4.3 }}</td>
                    {% endif %}


                  <div v-if="show">
                    <td>{{ j.0.kp }}</td>
                    <td>{{ j.0.zg }}</td>
                    <td>{{ j.0.zd }}</td>
                    <td>{{ j.0.sp }}</td>
                    <td>{{ j.0.today_ma20 }}</td>
                    <td>{{ j.0.today_md }}</td>
                    <td>{{ j.0.bls }}</td>
                    <td>{{ j.0.blz }}</td>
                    <td>{{ j.0.blx }}</td>
                    <td>{{ j.0.today_ma20_1_1 }}</td>
                    <td>{{ j.0.today_md_1_1 }}</td>
                    <td>{{ j.0.bls_1_1 }}</td>
                    <td>{{ j.0.blz_1_1 }}</td>
                    <td>{{ j.0.blx_1_1 }}</td>
                  </div>


        </tr>
                    {% endfor %}
        {% endfor %}
    </table>
        </div>

    `,
    computed:{
      show:function () {
          return this.$store.state.show
      }
    },
    methods:{
        show_info:function () {
            return this.$store.commit('show_vuex_info')
        }
    }

};
Vue.use(Vuex);
const store = new Vuex.Store({
    state:{
        show:false
    },
    mutations:{

        show_vuex_info:function (state) {
            if(state.show === false){
                console.log(state.show);
                return state.show = true
            }
            else{
                console.log(state.show);
                return state.show = false
            }
        }

    }
});


// 根组件 =======================================
    var app = new Vue({
        el: "#app",
        store:store,
        template: `
            <div>
                   <all></all>
            </div>

        `,
        components: {
            all:All
        }
    });

// 根组件 =======================================
</script>


</body>
</html>